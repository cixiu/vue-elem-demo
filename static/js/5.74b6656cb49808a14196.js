webpackJsonp([5],{437:function(t,e,i){function a(t){i(604)}var s=i(74)(i(554),i(632),a,"data-v-58a34c88",null);t.exports=s.exports},449:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{titleName:{type:String,default:""},noRouter:{type:Boolean,default:!1}},methods:{back:function(){if(this.noRouter)return void this.$emit("goback");this.$router.back()}}}},450:function(t,e,i){e=t.exports=i(435)(!1),e.push([t.i,".title[data-v-e1fb876e]{width:100%;height:44px;z-index:999;text-align:center;background-image:linear-gradient(90deg,#0af,#0085ff);color:#fff}.title .icon-arrow_back[data-v-e1fb876e]{position:absolute;top:4px;left:0;padding:10px;font-size:16px}.title .name[data-v-e1fb876e]{width:100%;line-height:44px;font-size:18px;font-weight:700}",""])},451:function(t,e,i){var a=i(450);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(436)("080adaa6",a,!0)},452:function(t,e,i){function a(t){i(451)}var s=i(74)(i(449),i(453),a,"data-v-e1fb876e",null);t.exports=s.exports},453:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("i",{staticClass:"icon-arrow_back",on:{click:t.back}}),t._v(" "),i("h1",{staticClass:"name"},[t._v(t._s(t.titleName))])])},staticRenderFns:[]}},455:function(t,e,i){function a(t){i(467)}var s=i(74)(i(459),i(493),a,null,null);t.exports=s.exports},459:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},461:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{footData:[{name:"外卖",showFlag:!1,icon:{icon_raw:"icon-elem"}},{name:"发现",showFlag:!1,icon:{icon_raw:"icon-discover",icon_active:"icon-discover-active"}},{name:"订单",showFlag:!1,icon:{icon_raw:"icon-order",icon_active:"icon-order-active"}},{name:"我的",showFlag:!1,icon:{icon_raw:"icon-user",icon_active:"icon-user-active"}}]}}}},462:function(t,e,i){e=t.exports=i(435)(!1),e.push([t.i,".split{width:100%;height:11px;background:#f4f4f4}",""])},466:function(t,e,i){e=t.exports=i(435)(!1),e.push([t.i,".footer[data-v-7e7f8dfc]{position:fixed;right:0;bottom:0;left:0;z-index:9999;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:50px;padding-top:4px;box-shadow:0 -1px 2px rgba(0,0,0,.1);background:#fff}.footer .foot-tab[data-v-7e7f8dfc]{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;color:#666}.footer .foot-tab .icon[data-v-7e7f8dfc]{display:inline-block;width:20px;height:20px;font-size:20px}.footer .foot-tab .icon_active[data-v-7e7f8dfc]{width:20px;height:20px;font-size:20px;display:none}.footer .foot-tab .text[data-v-7e7f8dfc]{display:block;line-height:12px;font-size:10px}.footer .foot-tab.router-link-active[data-v-7e7f8dfc]{color:#0089dc}.footer .foot-tab.router-link-active .icon[data-v-7e7f8dfc]{display:none}.footer .foot-tab.router-link-active .icon_active[data-v-7e7f8dfc]{display:inline-block}",""])},467:function(t,e,i){var a=i(462);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(436)("2aa0bb6a",a,!0)},471:function(t,e,i){var a=i(466);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(436)("2e920f04",a,!0)},492:function(t,e,i){function a(t){i(471)}var s=i(74)(i(461),i(497),a,"data-v-7e7f8dfc",null);t.exports=s.exports},493:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"split"})},staticRenderFns:[]}},497:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer"},[i("router-link",{staticClass:"foot-tab",attrs:{tag:"div",to:"/msite"}},[i("i",{staticClass:"icon-elem"}),t._v(" "),i("span",{staticClass:"text"},[t._v("外卖")])]),t._v(" "),i("router-link",{staticClass:"foot-tab",attrs:{tag:"div",to:"/discover"}},[i("i",{staticClass:"icon icon-discover"}),t._v(" "),i("i",{staticClass:"icon_active icon-discover-active"}),t._v(" "),i("span",{staticClass:"text"},[t._v("发现")])]),t._v(" "),i("router-link",{staticClass:"foot-tab",attrs:{tag:"div",to:"/order"}},[i("i",{staticClass:"icon icon-order"}),t._v(" "),i("i",{staticClass:"icon_active icon-order-active"}),t._v(" "),i("span",{staticClass:"text"},[t._v("订单")])]),t._v(" "),i("router-link",{staticClass:"foot-tab",attrs:{tag:"div",to:"/profile"}},[i("i",{staticClass:"icon icon-user"}),t._v(" "),i("i",{staticClass:"icon_active icon-user-active"}),t._v(" "),i("span",{staticClass:"text"},[t._v("我的")])])],1)},staticRenderFns:[]}},547:function(t,e,i){"use strict";function a(t,e){var i={latitude:t,longitude:e};return p.a.get("https://mainsite-restapi.ele.me/hotfood/v1/guess/banner",{params:i}).then(function(t){return l.a.resolve(t.data)})}function s(t,e){var i={latitude:t,longitude:e,platform:1,block_index:0};return p.a.get("https://mainsite-restapi.ele.me/member/v1/discover",{params:i}).then(function(t){return l.a.resolve(t.data)})}function o(t,e,i,a){var s={latitude:t,longitude:e,offset:0,limit:3,request_id:i,tag_id:a,columns:1};return p.a.get("https://mainsite-restapi.ele.me/hotfood/v1/guess/likes",{params:s}).then(function(t){return l.a.resolve(t.data)})}function n(t,e){var i={type:"special_food",latitude:t,longitude:e,params:{}};return p.a.get("https://mainsite-restapi.ele.me/shopping/v1/sale_list_index",{params:i}).then(function(t){return l.a.resolve(t.data)})}function c(){return p.a.get("https://mainsite-restapi.ele.me/member/gifts/suggest").then(function(t){return l.a.resolve(t.data)})}e.a=a,e.b=s,e.c=o,e.d=n,e.e=c;var r=i(172),l=i.n(r),d=i(171),p=i.n(d)},554:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(75),s=i.n(a),o=i(452),n=i.n(o),c=i(492),r=i.n(c),l=i(455),d=i.n(l),p=i(174),v=i.n(p),f=i(547),g=i(76),u=i(173);e.default={data:function(){return{targetName:"发现",tag_id:-1,request_id:"",recommends:[],Advertisement:[],FoodSuggest:[],SpecialFoodList:[],giftsSuggest:[],rank_id:""}},created:function(){var t=this;setTimeout(function(){t._getParams(),t._getHeaderAd(),t._getSpecialFoodList(),t._getGiftsSuggest()},20)},computed:s()({collection:function(){return this.recommends.concat(this.Advertisement,this.FoodSuggest,this.SpecialFoodList,this.giftsSuggest)}},i.i(g.a)(["latitude","longitude"])),methods:{parseImage:function(t){return i.i(u.b)(t)},selectGift:function(t){window.location.href=t},goRecommendFood:function(){window.location.href="https://h5.ele.me/ulike/#request_id="+this.request_id},goSpecicalFood:function(){window.location.href="https://h5.ele.me/ranking/#type=special_food&rank_id="+this.rank_id},goGiftSuggest:function(){window.location.href="https://h5.ele.me/exchange/"},_getParams:function(){var t=this;i.i(f.a)(this.latitude,this.longitude).then(function(e){t.tag_id=e.tags[0].id,t.request_id=e.request_id})},_getHeaderAd:function(){var t=this;i.i(f.b)(this.latitude,this.longitude).then(function(e){t.recommends=e[1],t.Advertisement=e[2]})},_getFoodSuggest:function(){var t=this;this.latitude&&this.longitude&&i.i(f.c)(this.latitude,this.longitude,this.request_id,this.tag_id).then(function(e){e.forEach(function(e){t.FoodSuggest.push(e.foods[0])})})},_getSpecialFoodList:function(){var t=this;this.latitude&&this.longitude&&i.i(f.d)(this.latitude,this.longitude).then(function(e){e.query_list.splice(0,3).forEach(function(e){t.SpecialFoodList.push(e.foods[0])}),t.rank_id=e.rank_id})},_getGiftsSuggest:function(){var t=this;i.i(f.e)().then(function(e){t.giftsSuggest=e})}},filters:{changeImageSize:function(t){var e=/\w+\/!\d+(\W+|\w+)+/g;return t.replace(e,"")}},watch:{request_id:function(t){var e=this;t&&setTimeout(function(){e._getFoodSuggest()},20)}},components:{MTitle:n.a,MFooter:r.a,Split:d.a,Scroll:v.a}}},584:function(t,e,i){e=t.exports=i(435)(!1),e.push([t.i,'.header[data-v-58a34c88]{position:fixed;top:0;left:0;width:100%;z-index:999}.content[data-v-58a34c88]{position:fixed;top:44px;right:0;bottom:50px;left:0;overflow:hidden;background:#fff}.content .recommend .top[data-v-58a34c88]{display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;box-sizing:border-box;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;background:#fff;overflow:hidden}.content .recommend .top .item[data-v-58a34c88]{display:block;box-sizing:border-box;width:50%;height:86px;margin-left:50%;padding:24px 15px;border-bottom:1px solid #ededed;border-right:1px solid #ededed}.content .recommend .top .item .img[data-v-58a34c88]{float:right;width:45px;height:45px;margin-top:-3%}.content .recommend .top .item[data-v-58a34c88]:first-child{position:absolute;margin-left:0;margin-right:0;padding:24px 15px 15px;height:172px;border-bottom:none}.content .recommend .top .item:first-child .img[data-v-58a34c88]{position:absolute;bottom:24px;margin:21px 26px 0;width:75px;height:75px}.content .recommend .top .item[data-v-58a34c88]:nth-child(2),.content .recommend .top .item[data-v-58a34c88]:nth-child(3){border-right:none}.content .recommend .top .item .title[data-v-58a34c88]{margin-bottom:6px;line-height:22px;font-size:18px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.content .recommend .top .item .subtitle[data-v-58a34c88]{line-height:14px;font-size:12px;color:#999;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.content .recommend .bottom a[data-v-58a34c88]{display:block;height:86px}.active-title[data-v-58a34c88]{padding-top:20px;line-height:21px;font-size:0;text-align:center}.active-title .line[data-v-58a34c88]{display:inline-block;vertical-align:middle;position:relative;width:14px;height:0;margin:8px 3px 6px;border:1px solid #333}.active-title .line[data-v-58a34c88]:after{position:absolute;top:-2px;width:5px;height:5px;content:"";border-radius:50%;background:#333}.active-title .line.left[data-v-58a34c88]:after{right:-2px}.active-title .line.right[data-v-58a34c88]:after{left:-2px}.active-title .icon[data-v-58a34c88]{display:inline-block;vertical-align:middle;font-size:16px}.active-title .title[data-v-58a34c88]{display:inline-block;vertical-align:middle;margin:0 4px;font-size:18px;font-weight:700px}.active-subtitle[data-v-58a34c88]{padding-bottom:8px;line-height:13px;font-size:11px;color:#999;text-align:center}.active-content[data-v-58a34c88]{padding:12px 0 15px 15px;white-space:nowrap}.active-content .item[data-v-58a34c88]{display:inline-block;box-sizing:border-box;position:relative;width:30%;margin-right:3%}.active-content .item img[data-v-58a34c88]{margin-bottom:10px}.active-content .item .name[data-v-58a34c88]{margin-bottom:5px;line-height:16px;font-size:12px;color:#333;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.active-content .item .price[data-v-58a34c88]{height:24px;line-height:24px}.active-content .item .price .now-price[data-v-58a34c88]{display:inline-block;vertical-align:middle;max-width:50px;height:18px;margin-right:3px;line-height:18px;font-size:13px;color:#ff5339;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.active-content .item .price .original_price[data-v-58a34c88]{display:inline-block;vertical-align:middle;max-width:40px;font-size:11px;color:#aaa;text-decoration:line-through;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.active-content .item .discount[data-v-58a34c88]{position:absolute;top:0;left:0;padding:2px;line-height:13px;font-size:11px;color:#fff;background:#413d3c}.active-more[data-v-58a34c88]{padding-bottom:18px;line-height:15px;font-size:13px;text-align:center;color:#999}',""])},604:function(t,e,i){var a=i(584);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(436)("02a7fed8",a,!0)},632:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"discover"},[i("div",{staticClass:"header"},[i("m-title",{attrs:{"title-name":t.targetName}})],1),t._v(" "),i("scroll",{ref:"scroll",staticClass:"content",attrs:{data:t.collection}},[i("div",[t.recommends.length?i("div",{staticClass:"recommend"},[i("div",{staticClass:"top"},t._l(t.recommends,function(e){return i("a",{staticClass:"item",attrs:{href:e.content_url}},[i("img",{staticClass:"img",attrs:{src:t.parseImage(e.main_pic_hash)}}),t._v(" "),i("h1",{staticClass:"title",style:{color:e.title_color}},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"subtitle"},[t._v(t._s(e.subtitle))])])})),t._v(" "),i("split"),t._v(" "),i("div",{staticClass:"bottom"},[i("a",{attrs:{href:t.Advertisement[0].content_url}},[i("img",{staticClass:"img",attrs:{width:"100%",height:"86",src:t._f("changeImageSize")(t.parseImage(t.Advertisement[0].sub_pic_hash))}})])]),t._v(" "),i("split")],1):t._e(),t._v(" "),t.FoodSuggest.length?i("div",{staticClass:"category FoodSuggest",on:{click:t.goRecommendFood}},[i("div",{staticClass:"active-title"},[i("span",{staticClass:"line left"}),t._v(" "),i("i",{staticClass:"icon icon-good"}),t._v(" "),i("span",{staticClass:"title"},[t._v("美食推荐")]),t._v(" "),i("span",{staticClass:"line right"})]),t._v(" "),i("p",{staticClass:"active-subtitle"},[t._v("你的口味，我都懂得")]),t._v(" "),i("div",{staticClass:"active-content"},[i("ul",t._l(t.FoodSuggest,function(e){return i("li",{staticClass:"item"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.parseImage(e.image_hash),expression:"parseImage(food.image_hash)"}],attrs:{width:"100%",height:"100%"}}),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"now-price"},[t._v("¥"+t._s(e.price))]),t._v(" "),e.original_price?i("span",{staticClass:"original_price"},[t._v("¥"+t._s(e.original_price))]):t._e()])])])}))]),t._v(" "),i("p",{staticClass:"active-more"},[t._v("查看更多 >")]),t._v(" "),i("split")],1):t._e(),t._v(" "),t.SpecialFoodList.length?i("div",{staticClass:"category SpecialFood",on:{click:t.goSpecicalFood}},[i("div",{staticClass:"active-title"},[i("span",{staticClass:"line left"}),t._v(" "),i("i",{staticClass:"icon icon-special-price"}),t._v(" "),i("span",{staticClass:"title"},[t._v("天天特价")]),t._v(" "),i("span",{staticClass:"line right"})]),t._v(" "),i("p",{staticClass:"active-subtitle"},[t._v("特价商品，一网打尽")]),t._v(" "),i("div",{staticClass:"active-content"},[i("ul",t._l(t.SpecialFoodList,function(e){return i("li",{staticClass:"item"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.parseImage(e.image_path),expression:"parseImage(food.image_path)"}],attrs:{width:"100%",height:"100%"}}),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"now-price"},[t._v("¥"+t._s(e.price))]),t._v(" "),e.original_price?i("span",{staticClass:"original_price"},[t._v("¥"+t._s(e.original_price))]):t._e()])]),t._v(" "),i("span",{staticClass:"discount"},[t._v(t._s((10*e.discount_rate).toFixed(1))+"折")])])}))]),t._v(" "),i("p",{staticClass:"active-more"},[t._v("查看更多 >")]),t._v(" "),i("split")],1):t._e(),t._v(" "),t.giftsSuggest.length?i("div",{staticClass:"category giftsSuggest",on:{click:t.goGiftSuggest}},[i("div",{staticClass:"active-title"},[i("span",{staticClass:"line left"}),t._v(" "),i("i",{staticClass:"icon icon-alarm"}),t._v(" "),i("span",{staticClass:"title"},[t._v("限时好礼")]),t._v(" "),i("span",{staticClass:"line right"})]),t._v(" "),i("p",{staticClass:"active-subtitle"},[t._v("小积分换豪礼")]),t._v(" "),i("div",{staticClass:"active-content"},[i("ul",t._l(t.giftsSuggest,function(e){return i("li",{staticClass:"item"},[i("a",{attrs:{href:e.url},on:{click:function(i){t.selectGift(e.url)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.parseImage(e.image_hash),expression:"parseImage(gift.image_hash)"}],attrs:{width:"100%",height:"100%"}}),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"now-price"},[t._v(t._s(e.points_required)+"积分")]),t._v(" "),e.original_price?i("span",{staticClass:"original_price"},[t._v("¥"+t._s(e.original_price))]):t._e()])]),t._v(" "),i("span",{staticClass:"discount"},[t._v(t._s(e.corner_marker))])])])}))]),t._v(" "),i("p",{staticClass:"active-more"},[t._v("查看更多 >")]),t._v(" "),i("split")],1):t._e()])]),t._v(" "),i("div",{staticClass:"footer-wrapper"},[i("m-footer")],1)],1)},staticRenderFns:[]}}});