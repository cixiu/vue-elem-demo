webpackJsonp([8],{440:function(t,e,a){function i(t){a(597)}var n=a(74)(a(558),a(625),i,"data-v-149fc520",null);t.exports=n.exports},449:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{titleName:{type:String,default:""},noRouter:{type:Boolean,default:!1}},methods:{back:function(){if(this.noRouter)return void this.$emit("goback");this.$router.back()}}}},450:function(t,e,a){e=t.exports=a(435)(!1),e.push([t.i,".title[data-v-e1fb876e]{width:100%;height:44px;z-index:999;text-align:center;background-image:linear-gradient(90deg,#0af,#0085ff);color:#fff}.title .icon-arrow_back[data-v-e1fb876e]{position:absolute;top:4px;left:0;padding:10px;font-size:16px}.title .name[data-v-e1fb876e]{width:100%;line-height:44px;font-size:18px;font-weight:700}",""])},451:function(t,e,a){var i=a(450);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(436)("080adaa6",i,!0)},452:function(t,e,a){function i(t){a(451)}var n=a(74)(a(449),a(453),i,"data-v-e1fb876e",null);t.exports=n.exports},453:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("i",{staticClass:"icon-arrow_back",on:{click:t.back}}),t._v(" "),a("h1",{staticClass:"name"},[t._v(t._s(t.titleName))])])},staticRenderFns:[]}},498:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{tips:{type:String,default:"这是提示"}}}},501:function(t,e,a){e=t.exports=a(435)(!1),e.push([t.i,".tips-alert[data-v-3b834d12]{max-width:40%;margin:0 auto;padding:10px;line-height:20px;font-size:14px;border-radius:20px;background-color:#666;color:#fff;text-align:center}",""])},503:function(t,e,a){var i=a(501);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(436)("9958347a",i,!0)},505:function(t,e,a){function i(t){a(503)}var n=a(74)(a(498),a(508),i,"data-v-3b834d12",null);t.exports=n.exports},508:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips-alert"},[a("p",[t._v(t._s(t.tips))])])},staticRenderFns:[]}},512:function(t,e,a){"use strict";function i(){var t={info_raw:{}};return d.a.get("https://mainsite-restapi.ele.me/eus/v1/current_user",{params:t}).then(function(t){return l.a.resolve(t.data)})}function n(){return d.a.post("/api/getCaptchasCode",null,{withCredentials:!0}).then(function(t){return l.a.resolve(t.data)}).catch(function(t){console.log(t)})}function o(t,e){var a={mobile:t,captcha_code:e,scene:"login",type:"sms"};return d.a.get("/api/getVerifyCode",{params:a,withCredentials:!0}).then(function(t){return l.a.resolve(t.data)}).catch(function(t){return l.a.reject(t.response.data)})}function r(t,e,a){var i={code:t,mobile:e,validate_token:a};return d.a.get("/api/getLoginIn",{params:i,withCredentials:!0}).then(function(t){return console.log(t),l.a.resolve(t.data)}).catch(function(t){return l.a.reject(t.response.data)})}function s(t,e,a){var i={captcha_code:a,password:e,username:t};return d.a.post("/api/getpasswordLoginIn",i,{withCredentials:!0}).then(function(t){return console.log(t),l.a.resolve(t.data)}).catch(function(t){return console.log(t.response.data),l.a.reject(t.response.data)})}e.e=i,e.d=n,e.a=o,e.b=r,e.c=s;var c=a(172),l=a.n(c),p=a(171),d=a.n(p)},558:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(75),n=a.n(i),o=a(452),r=a.n(o),s=a(505),c=a.n(s),l=a(512),p=a(76);e.default={data:function(){return{targetName:"登录",verifyBtnText:"获取验证码",mobileNumber:null,code:null,captcha_code:"",captcha_code_hash:null,captcha_code_img:null,validate_token:"",Countdown:0,isError:!1,alertText:"",loginWay:!0,username:"",password:"",passwordError:!1,frequentOperation:!1,userInfo:{}}},computed:{verifyMovileNumber:function(){return/^1\d{10}$/.test(this.mobileNumber)}},methods:n()({CheckLoginWay:function(){this.loginWay=!this.loginWay,"登录"===this.targetName?this.targetName="密码登录":this.targetName="登录"},_getVerifyCode:function(){var t=this;a.i(l.a)(this.mobileNumber,this.captcha_code).then(function(e){t.frequentOperation=!1,t.validate_token=e.validate_token,t.Countdown=30,t.timer=setInterval(function(){0===--t.Countdown&&(t.verifyBtnText="重新获取",clearInterval(t.timer))},1e3)}).catch(function(e){t.alertText=e.message,t.isError=!0,setTimeout(function(){t.isError=!1},3e3),t.frequentOperation=!0,t.captcha_code="",t._getCaptchasCode()})},loginIn:function(){var t=this;this.mobileNumber?this.validate_token?this.code?a.i(l.b)(this.code,this.mobileNumber,this.validate_token).then(function(e){t.userInfo=e,t.setUserInfo(t.userInfo),t.$router.push("/profile")}).catch(function(e){t.alertText=e.message,t.alertError()}):this.alertText="请填写验证码":this.alertText="请先获取验证码":this.alertText="请填写手机号码",this.mobileNumber&&this.validate_token&&this.code||this.alertError()},passwordLogin:function(){var t=this;this.username?this.password?this.passwordError&&!this.captcha_code?this.alertText="请填写验证码":a.i(l.c)(this.username,this.password,this.captcha_code).then(function(e){t.userInfo=e,t.setUserInfo(t.userInfo),t.$router.push("/profile")}).catch(function(e){t.captcha_code="",t.passwordError=!0,t._getCaptchasCode(),t.alertText=e.message,t.alertError()}):this.alertText="密码不能为空":this.alertText="手机/邮箱/用户名不能为空",this.username&&this.password&&(!this.passwordError||this.captcha_code)||this.alertError()},alertError:function(){var t=this;clearTimeout(this.timer),this.isError=!0,this.timer=setTimeout(function(){t.isError=!1},2e3)},cancel:function(){this.frequentOperation=!1},confirm:function(){if(!this.captcha_code)return this.alertText="请先输入图形验证码",void this.alertError();this._getVerifyCode()},_getCaptchasCode:function(){var t=this;a.i(l.d)().then(function(e){t.captcha_code_img="https://mainsite-restapi.ele.me/v1/captchas/"+e.code})}},a.i(p.b)({setUserInfo:"SET_USERINFO"})),components:{MTitle:r.a,TipsAlert:c.a}}},577:function(t,e,a){e=t.exports=a(435)(!1),e.push([t.i,'.header[data-v-149fc520]{position:relative}.header .LoginWay[data-v-149fc520]{position:absolute;top:13px;right:0;padding:0 15px;line-height:18px;font-size:15px;color:#fff}.login-wrapper[data-v-149fc520]{position:relative;margin-top:15px}.login-wrapper .login-action[data-v-149fc520]{border-top:1px solid #ddd}.login-wrapper .login-action .login-input[data-v-149fc520]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:44px;padding:0 16px;background:#fff;position:relative}.login-wrapper .login-action .login-input[data-v-149fc520]:after{display:block;position:absolute;left:0;bottom:0;width:100%;border-top:1px solid #ddd;content:" "}.login-wrapper .login-action .login-input input[data-v-149fc520]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:20px;padding:5px 0;line-height:20px;font-size:15px}.login-wrapper .login-action .login-input .verify-btn[data-v-149fc520]{width:100px;height:30px;line-height:30px;font-size:14px;border-radius:3px;color:#fff;background-color:#2395ff;text-align:center}.login-wrapper .login-action .login-input .verify-btn[disabled][data-v-149fc520]{background-color:#ccc}.login-wrapper .login-action .login-input .captchaCodeImage[data-v-149fc520]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.login-wrapper .login-action .login-input .captchaCodeImage .change[data-v-149fc520]{margin-left:16px;line-height:18px;font-size:12px;color:#666;white-space:nowrap}.login-wrapper .login-action .login-input .captchaCodeImage .change span[data-v-149fc520]{color:#2395ff}.login-wrapper .login-action .mask-input[data-v-149fc520]{position:fixed;top:50%;left:50%;z-index:50;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);width:80%;background-color:#fff}.login-wrapper .login-action .mask-input .confirm-btn[data-v-149fc520]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px}.login-wrapper .login-action .mask-input .confirm-btn .confirm-btn-left[data-v-149fc520]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:15px 0;text-align:center;border-right:1px solid #ddd}.login-wrapper .login-action .mask-input .confirm-btn .confirm-btn-right[data-v-149fc520]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:15px 0;text-align:center}.login-wrapper .tips[data-v-149fc520]{margin:9px 15px -10px;line-height:16px;font-size:12px;color:#999}.login-wrapper .tips a[data-v-149fc520]{color:#2395ff}.login-wrapper .login-btn[data-v-149fc520]{display:block;width:345px;height:44px;margin:20px auto 0;line-height:22px;font-size:16px;border-radius:5px;color:#fff;background-color:#00d762;text-align:center}.about-us[data-v-149fc520]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:20px 0}.about-us .text[data-v-149fc520]{padding:0 5px;line-height:22px;font-size:12px;color:#999}.tips-alert-wrapper[data-v-149fc520]{position:fixed;left:0;bottom:100px;z-index:50;width:100%}.tips-alert-wrapper.fade-enter[data-v-149fc520],.tips-alert-wrapper.fade-leave-active[data-v-149fc520]{opacity:0}.tips-alert-wrapper.fade-enter-active[data-v-149fc520],.tips-alert-wrapper.fade-leave-active[data-v-149fc520]{transition:all .8s}.list-mask[data-v-149fc520]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:40;background:rgba(0,0,0,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.list-mask.fade-enter[data-v-149fc520],.list-mask.fade-leave-active[data-v-149fc520]{opacity:0}.list-mask.fade-enter-active[data-v-149fc520],.list-mask.fade-leave-active[data-v-149fc520]{transition:all .4s}',""])},597:function(t,e,a){var i=a(577);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(436)("0b3c68e6",i,!0)},625:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"header"},[a("m-title",{attrs:{"title-name":t.targetName}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.loginWay,expression:"loginWay"}],staticClass:"LoginWay",on:{click:t.CheckLoginWay}},[t._v("密码登录")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.loginWay,expression:"!loginWay"}],staticClass:"LoginWay",on:{click:t.CheckLoginWay}},[t._v("短信登录")])],1),t._v(" "),t.loginWay?a("div",{staticClass:"login-wrapper"},[a("form",{staticClass:"login-action"},[a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileNumber,expression:"mobileNumber"}],attrs:{type:"tel",maxlength:"11",name:"mobileNumber",placeholder:"手机号"},domProps:{value:t.mobileNumber},on:{input:function(e){e.target.composing||(t.mobileNumber=e.target.value)}}}),t._v(" "),t.Countdown?t._e():a("button",{staticClass:"verify-btn",attrs:{disabled:!t.verifyMovileNumber},on:{click:function(e){e.preventDefault(),t._getVerifyCode(e)}}},[t._v(t._s(t.verifyBtnText))]),t._v(" "),t.Countdown?a("button",{staticClass:"verify-btn",attrs:{disabled:t.verifyMovileNumber}},[t._v("已发送("+t._s(t.Countdown)+"s)")]):t._e()]),t._v(" "),a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"tel",maxlength:"8",name:"verifyCode",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),t.frequentOperation?a("div",{staticClass:"mask-input"},[a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_code,expression:"captcha_code"}],attrs:{type:"text",maxlength:"6",placeholder:"图形验证码"},domProps:{value:t.captcha_code},on:{input:function(e){e.target.composing||(t.captcha_code=e.target.value)}}}),t._v(" "),a("img",{attrs:{width:"105",height:"39",src:t.captcha_code_img},on:{click:function(e){e.preventDefault(),t._getCaptchasCode(e)}}})]),t._v(" "),a("div",{staticClass:"confirm-btn"},[a("div",{staticClass:"confirm-btn-left",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"confirm-btn-right",on:{click:t.confirm}},[t._v("确定")])])]):t._e()]),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"login-btn",on:{click:t.loginIn}},[t._v("登录")])]):a("div",{staticClass:"login-wrapper"},[a("form",{staticClass:"login-action"},[a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"手机/邮箱/用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),t.passwordError?a("div",{staticClass:"login-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_code,expression:"captcha_code"}],attrs:{type:"text",maxlength:"6",placeholder:"验证码"},domProps:{value:t.captcha_code},on:{input:function(e){e.target.composing||(t.captcha_code=e.target.value)}}}),t._v(" "),a("div",{staticClass:"captchaCodeImage"},[a("img",{attrs:{width:"105",height:"39",src:t.captcha_code_img}}),t._v(" "),a("div",{staticClass:"change",on:{click:function(e){e.preventDefault(),t._getCaptchasCode(e)}}},[a("p",[t._v("看不清")]),t._v(" "),a("span",[t._v("换一张")])])])]):t._e()]),t._v(" "),a("button",{staticClass:"login-btn",on:{click:t.passwordLogin}},[t._v("登录")])]),t._v(" "),t._m(1),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.frequentOperation,expression:"frequentOperation"}],staticClass:"list-mask"})]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError"}],staticClass:"tips-alert-wrapper"},[a("tips-alert",{attrs:{tips:t.alertText}})],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips"},[t._v("\n\t\t\t温馨提示：未注册饿了么帐号的手机号，登录时将自动注册，且代表您已同意\n\t\t\t"),a("a",{attrs:{href:"//h5.ele.me/service/agreement/",target:"_blank"}},[t._v("《用户服务协议》")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about-us"},[a("span",{staticClass:"text"},[t._v("关于我们")])])}]}}});